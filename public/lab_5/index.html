<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Juan Acha-Ngwodo's Lab 4</title>
        <link rel="stylesheet" href="styles.css" type="text/css"/>
    </head>
    
    <body>
        <div class = "wrapper">
            <div class = "container">
                <div class = "header">
                    <h1>Juan Acha-Ngwodo's Lab 4</h1>
                </div> 

                <form action="/api" method="post">
                    <ul class="flex-outer">
                        <li>
                            <label for = "fname">First Name</label>
                            <input type = "text" id = "fname" name="first-name" maxlength = "140" placeholder="Enter your first name here">
                        </li>
                        <li>
                            <label for = "lname">Last Name</label>
                            <input type = "text" id = "lname" name = "last-name" maxlength = "140" placeholder = "Enter your last name here">
                        </li>
                        <li>
                            <label for = "email">Email</label>
                            <input type = "email" id = "email" name = "email" placeholder = "Enter your email here">
                        </li>
                        <li>
                            <label for = "phone">Phone</label>
                            <input type = "tel" id = "phone" name = "phone" placeholder = "Enter your phone number here">
                        </li>
                        <li>
                            <label for = "message"> Message</label>
                            <textarea rows="5" cols = "33" id = "message" name = "message" >Enter your message here</textarea>
                        </li>               
                    
                    
                        <li>
                            <p class = "checkbox-list-label">Age</p>
                        
                            <ul class = "flex-inner">
                                <li>
                                    <input type = "checkbox" id = "eightteen-thirtyfive" name = "age-range">
                                    <label for = "eightteen-thirtyfive" > 18 - 35 </label>
                                </li>
                                <li>
                                    <input type = "checkbox" id = "thirtyfive-fifty" name = "age-range">
                                    <label for = "thirtyfive-fifty">35 - 50</label>
                                </li>
                                <li>
                                    <input type = "checkbox" id = "fifty-sixtyfive" name = "age-range">
                                    <label for = "fifty-sixtyfive">50 - 65</label>
                                </li>
                            </ul>
                        </li>

                        <li>
                            <button type = "submit" name = "submission-button" id = "submission-button" class="primary">Submit</button>
                        </li>
                        <li>
                            <button onclick = "testFunction()" type = "button" name = "activate-button" id = "activate-button" class="secondary">Activate</button>
                        </li>
                    </ul> 
                </form>    
            </div>
        </div> 

        <script>
             function testFunction() {
                let data = fetch('/api')
                 .then((response) => response.text())
                 .then((response) => {
                     console.log(response);
                     return response;
                    })
                
                const backGroundColor = document.querySelector("body");
                backGroundColor.style.background = "rgb(255, 0, 200)";

                const nameChanger = document.querySelector(".header");
                nameChanger.innerHTML = "<h1>" + "Lab 5 for Juan Acha-Ngwodo" + "</h1>"

                const titleChange = document.querySelector("head");
                titleChange.title =  String(data);

                const centerForm = document.querySelector(".flex-outer");
                centerForm.style.margin = "0 auto";

                const labelChange = document.querySelector(".checkbox-list-label");
                labelChange.innerHTML = "<p>" +  "Fruits" + "</p>"

                fruitLabelSetter();

                

             }

             function fruitLabelSetter(){
                 var fruits = ["Apple", "Grapes", "Strawberry"];
                 var i = 0;
                 const ageLabels = document.querySelectorAll(".flex-inner > li > label");

                 for(i = 0; i < ageLabels.length; i++){
                     var tempLabel = ageLabels[i];
                     tempLabel.innerHTML = "<label>" +  fruits[i] + "</label>";
                 }   
             }
        </script>

    </body>
</html> 