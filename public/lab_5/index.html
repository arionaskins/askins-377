<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <title class='pagetitle'>Arion Askins - Lab 4</title>
    
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Life+Savers:wght@400;700;800&display=swap" rel="stylesheet">
     </head>

     <body>
 
    
        <div class=content> 
          <h1 class="pageheader">Arion Askins - Lab 4</h1>
            <form action="/api" method="post">
            <ul class="flex-outer">
              <li>
                <label for="fname">First Name</label>
                <input type="text" name="fname" id="fname" placeholder="Enter your first name here" maxlength="140">
              </li>
              <li>
                <label for="lname">Last Name</label>
                <input type="text" name="lname" id="lname" placeholder="Enter your last name here" maxlength="140">
              </li>
              <li>
                <label for="email">Email</label>
                <input type="email" name="email" id="email" placeholder="Enter your email here">
              </li>
              <li>
                <label for="phone">Phone</label>
                <input type="tel" name ="phone" id="phone" placeholder="Enter your phone here">
              </li>
              <li>
                <label for="message">Message</label>
                <textarea rows="5" cols="33" id="message" name="message" placeholder="Enter your message here"></textarea>
              </li>
              <li>
                <p class="checkbox-list-label">Age</p>
                <ul class="flex-inner">
                  
                    <li>
                        <input type="checkbox" name="eighteen-thirtyfive" id="eighteen-thirtyfive">
                        <label for="eighteen-thirtyfive" class="clabel">18-35</label>
                      </li>
                      <li>
                        <input type="checkbox" name= "thirtyfive-fifty" id="thirtyfive-fifty">
                        <label for="thirtyfive-fifty" class="clabel">35-50</label>
                      </li>
                      
                      <li>
                        <input type="checkbox" name="fifty-sixtyfive" id="fifty-sixtyfive">
                        <label for="fifty-sixtyfive" class="clabel">50-65</label>
                      </li>

                </ul>
              </li>

              <li class="buttons">
                <button class="button" type="submit" name="button" id=button>Submit Form</button>
                <button class="button" type="button" name="activate" id="activate" onclick="testFunction()">Activate</button>
              </li>

            </ul>
          </form>
        </div> 

        <script>
           
          function testFunction() {
            const pheader = document.querySelector('.pageheader')
            const ptitle = document.querySelector('.pagetitle')
            fetch('/api')
            .then((response) => response.text())
            .then((response) => {
            pheader.innerHTML = (response);
            ptitle.innerHTML = (response);
            document.getElementById("activate").style.color = 'red';
            document.body.style.backgroundColor = "#f5b642";
            let marg = document.querySelector('.flex-outer')
            marg.style.margin = '0 auto';
            pheader.style.margin = '0px 45% 0px 0px';
            const labell = document.querySelectorAll(".clabel")
            const fruitArray = ['pineapple', 'strawberry', 'mango']
              labell.forEach((lab, i) => {
                const text = lab.innerText;
                console.log(lab);
                lab.innerText = fruitArray[i];
                })})
            const newAge = document.querySelector('.checkbox-list-label')
            newAge.innerText = 'Fruits'
          };

        </script>

     </body>
     </html>